{"version":3,"file":"dynamic_settings.min.js","sources":["../src/dynamic_settings.js"],"sourcesContent":["import $ from \"jquery\";\n\nlet previousSelect;\n\nconst settings = (getValue) => {\n  if (getValue === \"AWS(S3)\") {\n    $(\"#admin-awsregion\").show();\n    $(\"#admin-awssecretkey\").show();\n    $(\"#admin-awsaccesskey\").show();\n  } else {\n    $(\"#admin-awsregion\").hide();\n    $(\"#admin-awssecretkey\").hide();\n    $(\"#admin-awsaccesskey\").hide();\n  }\n\n  window.console.log(previousSelect);\n\n  if (\n    previousSelect !== getValue &&\n    previousSelect !== undefined &&\n    $(\"#id_s_quizaccess_exproctor_awsaccesskey\").val() &&\n    $(\"#id_s_quizaccess_exproctor_awssecretkey\").val()\n  ) {\n    $(\"[class='btn btn-primary']\").prop(\"disabled\", false);\n  } else {\n    $(\"[class='btn btn-primary']\").prop(\"disabled\", true);\n  }\n\n  previousSelect = getValue;\n};\n\n// eslint-disable-next-line camelcase\nconst enable_submit_button = (storageMethod, s3AccessKey, s3SecretKey) => {\n  if (\n    storageMethod === \"AWS(S3)\" &&\n    s3AccessKey.val().length >= 16 &&\n    s3AccessKey.val().length <= 128 &&\n    s3SecretKey.val().length >= 16 &&\n    s3SecretKey.val().length <= 128\n  ) {\n    $(\"[class='btn btn-primary']\").prop(\"disabled\", false);\n  } else {\n    $(\"[class='btn btn-primary']\").prop(\"disabled\", true);\n  }\n};\n\nexport const init = () => {\n  const storageTextElement = $(\"#id_s_quizaccess_exproctor_storagemethod\");\n  let storageMethod = storageTextElement.val();\n\n  // Current selected value\n  settings(storageMethod);\n\n  // Event trigger when dropdown value change\n  storageTextElement.change((e) => {\n    const $this = $(e.currentTarget);\n    storageMethod = $this.val();\n    settings(storageMethod);\n  });\n\n  const s3AccessKey = $(\"#id_s_quizaccess_exproctor_awsaccesskey\");\n  const s3SecretKey = $(\"#id_s_quizaccess_exproctor_awssecretkey\");\n\n  // Event trigger when s3 access-key input field value change\n  s3AccessKey.on(\"input\", function() {\n    enable_submit_button(storageMethod, s3AccessKey, s3SecretKey);\n  });\n\n  // Event trigger when s3 secret-key input field value change\n  s3SecretKey.on(\"input\", function() {\n    enable_submit_button(storageMethod, s3AccessKey, s3SecretKey);\n  });\n};\n"],"names":["previousSelect","settings","getValue","show","hide","window","console","log","undefined","val","prop","enable_submit_button","storageMethod","s3AccessKey","s3SecretKey","length","storageTextElement","change","e","$this","currentTarget","on"],"mappings":"4GAEIA,0JAEEC,SAAYC,WACC,YAAbA,8BACA,oBAAoBC,2BACpB,uBAAuBA,2BACvB,uBAAuBA,6BAEvB,oBAAoBC,2BACpB,uBAAuBA,2BACvB,uBAAuBA,QAG3BC,OAAOC,QAAQC,IAAIP,gBAGjBA,iBAAmBE,eACAM,IAAnBR,iBACA,mBAAE,2CAA2CS,QAC7C,mBAAE,2CAA2CA,0BAE3C,6BAA6BC,KAAK,YAAY,uBAE9C,6BAA6BA,KAAK,YAAY,GAGlDV,eAAiBE,QAAjB,EAIIS,qBAAuB,CAACC,cAAeC,YAAaC,eAEpC,YAAlBF,eACAC,YAAYJ,MAAMM,QAAU,IAC5BF,YAAYJ,MAAMM,QAAU,KAC5BD,YAAYL,MAAMM,QAAU,IAC5BD,YAAYL,MAAMM,QAAU,wBAE1B,6BAA6BL,KAAK,YAAY,uBAE9C,6BAA6BA,KAAK,YAAY,kBAIhC,WACZM,oBAAqB,mBAAE,gDACzBJ,cAAgBI,mBAAmBP,MAGvCR,SAASW,eAGTI,mBAAmBC,QAAQC,UACnBC,OAAQ,mBAAED,EAAEE,eAClBR,cAAgBO,MAAMV,MACtBR,SAASW,cAAT,UAGIC,aAAc,mBAAE,2CAChBC,aAAc,mBAAE,2CAGtBD,YAAYQ,GAAG,SAAS,WACtBV,qBAAqBC,cAAeC,YAAaC,gBAInDA,YAAYO,GAAG,SAAS,WACtBV,qBAAqBC,cAAeC,YAAaC"}